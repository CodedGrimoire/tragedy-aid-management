exports.id=8482,exports.ids=[8482],exports.modules={9106:(e,t,r)=>{Promise.resolve().then(r.bind(r,38786)),Promise.resolve().then(r.bind(r,70211)),Promise.resolve().then(r.bind(r,54293))},16036:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,96539,23)),Promise.resolve().then(r.t.bind(r,11598,23)),Promise.resolve().then(r.t.bind(r,60956,23)),Promise.resolve().then(r.t.bind(r,53767,23)),Promise.resolve().then(r.t.bind(r,52599,23)),Promise.resolve().then(r.t.bind(r,12084,23))},74379:()=>{},38786:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o});var s=r(24495),a=r(33247),n=r(88828);let i=(0,a.createContext)(null);function o({children:e}){let[t,r]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),d=(0,n.useRouter)(),c=async(e,t)=>{try{let s=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await s.json();if(!s.ok)throw Error(a.error||"Login failed");return localStorage.setItem("auth_token",a.token),r(a.user),{success:!0}}catch(e){return{success:!1,error:e.message}}},m=async e=>{try{let t=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.error||"Signup failed");return localStorage.setItem("auth_token",s.token),r(s.user),{success:!0}}catch(e){return{success:!1,error:e.message}}},h=async()=>{try{await fetch("/api/logout",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("auth_token"),r(null),d.push("/login")}};return s.jsx(i.Provider,{value:{user:t,login:c,signup:m,logout:h,loading:o},children:e})}},70211:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(24495),a=r(33247),n=r(88828),i=r(46451);function o(){(0,n.useRouter)();let[e,t]=(0,a.useState)(!1),[r,o]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),c=async()=>{try{(await fetch("/api/logout",{method:"POST"})).ok?(console.log("Logout successful. Clearing session..."),localStorage.removeItem("auth_token"),document.cookie="auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",t(!1),o(null),d(null),window.location.href="/login"):alert("Logout failed, please try again.")}catch(e){console.error("Error logging out:",e),alert("Logout failed, please try again.")}};return s.jsx("nav",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-full mx-4 px-4",children:(0,s.jsxs)("div",{className:"flex justify-between h-20",children:[s.jsx("div",{className:"flex-shrink-0 flex items-center"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 pr-4",children:[e&&(0,s.jsxs)(s.Fragment,{children:["ADMIN"===r&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.default,{href:"/victiminsert",className:"text-gray-600 hover:text-gray-900 text-sm px-3 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50",children:"Data Entry"}),s.jsx(i.default,{href:"/crud",className:"text-gray-600 hover:text-gray-900 text-sm px-3 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50",children:"Modify"})]}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Welcome, ",l||"User"]}),s.jsx("button",{onClick:c,className:"px-3 py-1.5 border border-gray-300 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-50 text-sm",children:"Logout"})]}),!e&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.default,{href:"/login",className:"px-3 py-1.5 border border-gray-300 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-50 text-sm",children:"Login"}),s.jsx(i.default,{href:"/signup",className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:"Sign Up"})]})]})]})})})}},54293:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(24495),a=r(33247),n=r(46451),i=r(88828),o=r(82193),l=r(60290),d=r(13191),c=r(430),m=r(56657),h=r(58770),u=r(92022),x=r(88993),g=r(99010),f=r(34945);function p(){return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-50 rounded-lg",children:(0,s.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",className:"text-red-600",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M12 3L4 7V17L12 21L20 17V7L12 3Z",fill:"currentColor",fillOpacity:"0.1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M12 8V16M8 12H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),s.jsx("div",{children:s.jsx("div",{className:"text-xl font-bold text-gray-900 font-bengali tracking-wide",children:"উদ্ধার"})})]})}function y(){let e=(0,i.usePathname)(),[t,r]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[j,b]=(0,a.useState)(!1),N=[{name:"Dashboard",icon:o.Z,href:"/"},{name:"Victim Summary",icon:l.Z,href:"/victimsummary"},{name:"Victims",icon:d.Z,href:"/victims"},{name:"Events",icon:c.Z,href:"/events"},{name:"FamilySupport",icon:l.Z,href:"/families"},{name:"FamilySupportSummary",icon:l.Z,href:"/subsidy"},{name:"Subsidy",icon:m.Z,href:"/gsubsidy"},{name:"NGOs",icon:h.Z,href:"/ngos"},{name:"Medical",icon:u.Z,href:"/medical"},{name:"Tragedies",icon:x.Z,href:"/tragedies"}],w=()=>b(!j),k=t=>e===t||e.startsWith(`${t}/`),S=`bg-white shadow-xl h-screen fixed top-0 left-0 z-30 transition-all duration-300 ease-in-out
    ${y?j?"translate-x-0 w-64":"-translate-x-full w-64":t?"w-20":"w-64"}`,P=`fixed top-4 z-40 bg-red-600 text-white p-2 rounded-full shadow-lg
    ${y?j?"left-64 -mr-4":"left-4":t?"left-20 -mr-4":"left-64 -mr-4"}`;return(0,s.jsxs)(s.Fragment,{children:[y&&j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:w}),s.jsx("button",{onClick:y?w:()=>r(!t),className:P,"aria-label":t||y&&!j?"Expand sidebar":"Collapse sidebar",children:t||y&&!j?s.jsx(g.Z,{className:"h-5 w-5"}):s.jsx(f.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:S,children:[s.jsx("div",{className:"py-6 border-b border-red-100",children:s.jsx("div",{className:`flex ${t?"justify-center":"px-6"} items-center`,children:!t&&s.jsx("div",{className:"ml-3",children:s.jsx(p,{})})})}),s.jsx("div",{className:"py-4",children:s.jsx("div",{className:t?"px-2":"px-4",children:s.jsx("nav",{className:"space-y-1",children:N.map(e=>(0,s.jsxs)(n.default,{href:e.href,className:`flex items-center ${t?"justify-center":"px-3"} py-3 rounded-lg text-sm font-medium transition-colors duration-150 ${k(e.href)?"bg-red-50 text-red-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(e.icon,{className:`${k(e.href)?"text-red-600":"text-gray-400"} h-6 w-6 ${!t&&"mr-3"}`}),!t&&e.name,k(e.href)&&t&&s.jsx("span",{className:"absolute left-0 w-1 h-6 bg-red-600 rounded-r-md"})]},e.name))})})}),s.jsx("div",{className:"absolute bottom-0 w-full border-t border-red-100 p-4",children:(0,s.jsxs)("div",{className:`flex ${t?"justify-center":""} items-center`,children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(d.Z,{className:"h-4 w-4 text-red-600"})}),!t&&(0,s.jsxs)("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Admin User"}),s.jsx("a",{href:"#",className:"text-xs font-medium text-red-600 hover:text-red-900",children:"View profile"})]})]})})]}),s.jsx("div",{className:`transition-all duration-300 ${y?"ml-0":t?"ml-20":"ml-64"}`})]})}},36104:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(59692),a=r(26328),n=r(90331),i=r(19670);let o=(0,i.createProxy)(String.raw`/Users/tazkia/Desktop/Uddhar/app/context/authcontext.js#AuthProvider`);function l({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(a.Z,{}),(0,s.jsxs)("div",{className:"flex",children:[s.jsx(n.Z,{}),s.jsx("main",{className:"flex-1",children:s.jsx(o,{children:e})})]})]})}(0,i.createProxy)(String.raw`/Users/tazkia/Desktop/Uddhar/app/context/authcontext.js#useAuth`)},5607:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>i});var s=r(59692),a=r(1423),n=r.n(a);r(44797);let i={title:"উদ্ধার - Emergency Response System",description:"Track and manage assistance for victims of tragic incidents",icons:{icon:[{url:"/favicon.ico"},{url:"/favicon-16x16.png",sizes:"16x16",type:"image/png"},{url:"/favicon-32x32.png",sizes:"32x32",type:"image/png"}],apple:[{url:"/apple-touch-icon.png",sizes:"180x180",type:"image/png"}]}};function o({children:e}){return s.jsx("html",{lang:"bn",children:s.jsx("body",{className:n().className,children:e})})}},26328:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(19670).createProxy)(String.raw`/Users/tazkia/Desktop/Uddhar/components/Navbar.js#default`)},90331:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(19670).createProxy)(String.raw`/Users/tazkia/Desktop/Uddhar/components/Sidebar.js#default`)},49810:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(28755);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},44797:()=>{}};