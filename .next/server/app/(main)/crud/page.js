(()=>{var e={};e.id=8325,e.ids=[8325],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},10190:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(32032),r(36104),r(80867),r(5607);var a=r(44257),n=r(69184),i=r(42259),s=r.n(i),o=r(70057),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(main)",{children:["crud",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,32032)),"/Users/tazkia/Desktop/Uddhar/app/(main)/crud/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,36104)),"/Users/tazkia/Desktop/Uddhar/app/(main)/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,80867,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,49810))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5607)),"/Users/tazkia/Desktop/Uddhar/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,80867,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,49810))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/tazkia/Desktop/Uddhar/app/(main)/crud/page.js"],u="/(main)/crud/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(main)/crud/page",pathname:"/crud",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79368:(e,t,r)=>{Promise.resolve().then(r.bind(r,38985))},38985:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(24495),n=r(33247);function i(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(null),[s,o]=(0,n.useState)({}),[l,d]=(0,n.useState)(""),[c,u]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),p=async r=>{if(confirm("Are you sure you want to delete this victim?"))try{(await fetch("/api/crud",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({birthCertificateNumber:r})})).ok?(t(e.filter(e=>e.birthCertificateNumber!==r)),alert("Victim deleted successfully.")):alert("Error deleting victim.")}catch(e){console.error("Error deleting victim:",e)}},b=e=>{i(e.birthCertificateNumber),o({name:e.name,status:e.status||"",medicalID:e.medicalID||"",eventID:e.eventID||"",eventDescription:e.event?.description||"",eventLocation:e.event?.location||"",familyID:e.familyID||"",familyHead:e.family?.headName||"",tragedyID:e.tragedyVictims?.[0]?.tragedy?.tragedyID||"",tragedyName:e.tragedyVictims?.[0]?.tragedy?.tragedyName||""})},v=e=>{o({...s,[e.target.name]:e.target.value})},g=async r=>{try{let a=await fetch("/api/crud",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({birthCertificateNumber:r,...s})});if(a.ok){let n=await a.json();t(e.map(e=>e.birthCertificateNumber===r?n:e)),i(null),alert("Victim updated successfully.")}else alert("Error updating victim.")}catch(e){console.error("Error updating victim:",e)}},f=e.filter(e=>e.name.toLowerCase().includes(l.toLowerCase()));return(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Victim Management"}),a.jsx("input",{type:"text",placeholder:"Search by Name...",value:l,onChange:e=>d(e.target.value),className:"border p-2 mb-4 w-full"}),(0,a.jsxs)("table",{className:"table-auto w-full border-collapse border border-gray-300",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border p-2",children:"Birth Certificate No."}),a.jsx("th",{className:"border p-2",children:"Name"}),a.jsx("th",{className:"border p-2",children:"Status"}),a.jsx("th",{className:"border p-2",children:"Event"}),a.jsx("th",{className:"border p-2",children:"Event Location"}),a.jsx("th",{className:"border p-2",children:"Tragedy"}),a.jsx("th",{className:"border p-2",children:"Family Head"}),a.jsx("th",{className:"border p-2",children:"Actions"})]})}),a.jsx("tbody",{children:f.map(e=>(0,a.jsxs)("tr",{className:"border",children:[a.jsx("td",{className:"border p-2",children:e.birthCertificateNumber}),a.jsx("td",{className:"border p-2",children:e.name}),a.jsx("td",{className:"border p-2",children:r===e.birthCertificateNumber?a.jsx("select",{name:"status",value:s.status,onChange:v,className:"border p-1",children:["Missing","Deceased","Injured","Found","Unknown"].map(e=>a.jsx("option",{value:e,children:e},e))}):e.status}),a.jsx("td",{className:"border p-2",children:r===e.birthCertificateNumber?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("select",{name:"eventID",value:s.eventID,onChange:v,className:"border p-1",children:[a.jsx("option",{value:"",children:"Select Existing Event"}),c.map(e=>a.jsx("option",{value:e.eventID,children:e.description},e.eventID))]}),a.jsx("input",{name:"eventDescription",placeholder:"Or enter new event",value:s.eventDescription,onChange:v,className:"border p-1 mt-1"})]}):e.event?.description}),a.jsx("td",{className:"border p-2",children:r===e.birthCertificateNumber?a.jsx("input",{name:"eventLocation",value:s.eventLocation,onChange:v,className:"border p-1"}):e.event?.location}),a.jsx("td",{className:"border p-2",children:r===e.birthCertificateNumber?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("select",{name:"tragedyID",value:s.tragedyID,onChange:v,className:"border p-1",children:[a.jsx("option",{value:"",children:"Select Existing Tragedy"}),m.map(e=>a.jsx("option",{value:e.tragedyID,children:e.tragedyName},e.tragedyID))]}),a.jsx("input",{name:"tragedyName",placeholder:"Or enter new tragedy",value:s.tragedyName,onChange:v,className:"border p-1 mt-1"})]}):e.tragedyVictims?.[0]?.tragedy?.tragedyName}),a.jsx("td",{className:"border p-2",children:r===e.birthCertificateNumber?a.jsx("input",{name:"familyHead",value:s.familyHead,onChange:v,className:"border p-1"}):e.family?.headName}),a.jsx("td",{className:"border p-2",children:r===e.birthCertificateNumber?(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>g(e.birthCertificateNumber),className:"bg-blue-500 text-white px-2 py-1 rounded mr-2",children:"Save"}),a.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white px-2 py-1 rounded",children:"Cancel"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>b(e),className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2",children:"Modify"}),a.jsx("button",{onClick:()=>p(e.birthCertificateNumber),className:"bg-red-600 text-white px-2 py-1 rounded",children:"Delete"})]})})]},e.birthCertificateNumber))})]})]})}},32032:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(19670).createProxy)(String.raw`/Users/tazkia/Desktop/Uddhar/app/(main)/crud/page.js#default`)},58770:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))})},430:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},34945:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))})},99010:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))})},56657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},88993:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},92022:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))})},82193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))})},13191:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))})},60290:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(33247);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9576,6846,8755,4504,8482],()=>r(10190));module.exports=a})();