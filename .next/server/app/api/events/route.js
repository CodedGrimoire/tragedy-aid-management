"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/events/route";
exports.ids = ["app/api/events/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fevents%2Froute&page=%2Fapi%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fevents%2Froute.js&appDir=%2FUsers%2Ftazkia%2FDesktop%2FUddhar%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftazkia%2FDesktop%2FUddhar&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fevents%2Froute&page=%2Fapi%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fevents%2Froute.js&appDir=%2FUsers%2Ftazkia%2FDesktop%2FUddhar%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftazkia%2FDesktop%2FUddhar&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_tazkia_Desktop_Uddhar_app_api_events_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/events/route.js */ \"(rsc)/./app/api/events/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/events/route\",\n        pathname: \"/api/events\",\n        filename: \"route\",\n        bundlePath: \"app/api/events/route\"\n    },\n    resolvedPagePath: \"/Users/tazkia/Desktop/Uddhar/app/api/events/route.js\",\n    nextConfigOutput,\n    userland: _Users_tazkia_Desktop_Uddhar_app_api_events_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/events/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZldmVudHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmV2ZW50cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmV2ZW50cyUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRnRhemtpYSUyRkRlc2t0b3AlMkZVZGRoYXIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGdGF6a2lhJTJGRGVza3RvcCUyRlVkZGhhciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDSTtBQUNqRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3Nob2hpZC8/NWY3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdGF6a2lhL0Rlc2t0b3AvVWRkaGFyL2FwcC9hcGkvZXZlbnRzL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ldmVudHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ldmVudHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2V2ZW50cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy90YXpraWEvRGVza3RvcC9VZGRoYXIvYXBwL2FwaS9ldmVudHMvcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2V2ZW50cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fevents%2Froute&page=%2Fapi%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fevents%2Froute.js&appDir=%2FUsers%2Ftazkia%2FDesktop%2FUddhar%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftazkia%2FDesktop%2FUddhar&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/events/route.js":
/*!*********************************!*\
  !*** ./app/api/events/route.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/prisma */ \"(rsc)/./lib/prisma.js\");\n// app/api/events/route.js\n\nasync function GET() {\n    try {\n        const events = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].event.findMany({\n            orderBy: {\n                date: \"desc\"\n            }\n        });\n        if (!events || events.length === 0) {\n            return new Response(JSON.stringify([]), {\n                status: 200,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        const formattedEvents = await Promise.all(events.map(async (event)=>{\n            const victimCount = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].victim.count({\n                where: {\n                    eventID: event.eventID\n                }\n            });\n            let lat = 0, lng = 0; // Default values\n            if (event.location && \"AIzaSyBovaBCHwuifoLoksenhZWnafUbhQZl7Uw\") {\n                try {\n                    console.log(`Fetching geolocation for: ${event.location}`);\n                    // Fetch lat/lng from Google Maps API\n                    const geocodeResponse = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(event.location)}&key=${\"AIzaSyBovaBCHwuifoLoksenhZWnafUbhQZl7Uw\"}`, {\n                        timeout: 5000\n                    } // Add timeout to prevent hanging\n                    );\n                    if (!geocodeResponse.ok) {\n                        throw new Error(`Geocoding API error: ${geocodeResponse.status}`);\n                    }\n                    const geocodeData = await geocodeResponse.json();\n                    if (geocodeData.status === \"OK\" && geocodeData.results && geocodeData.results.length > 0) {\n                        lat = geocodeData.results[0].geometry.location.lat;\n                        lng = geocodeData.results[0].geometry.location.lng;\n                    } else {\n                        console.error(`Geocoding failed for ${event.location}:`, geocodeData.status);\n                    }\n                } catch (geocodeError) {\n                    console.error(`Error geocoding location \"${event.location}\":`, geocodeError);\n                // Continue with default coordinates\n                }\n            }\n            return {\n                eventID: event.eventID,\n                date: event.date,\n                description: event.description,\n                location: event.location,\n                victimCount: victimCount,\n                lat,\n                lng\n            };\n        }));\n        return new Response(JSON.stringify(formattedEvents), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"GET /api/events error:\", error);\n        return new Response(JSON.stringify({\n            error: \"Failed to fetch events.\"\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        if (!body) {\n            return new Response(JSON.stringify({\n                error: \"Request body is missing\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        const { date, description, location } = body;\n        // Check if a similar event already exists\n        const existingEvent = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].event.findFirst({\n            where: {\n                AND: [\n                    description ? {\n                        description\n                    } : {},\n                    location ? {\n                        location\n                    } : {},\n                    date ? {\n                        date: new Date(date)\n                    } : {}\n                ]\n            }\n        });\n        if (existingEvent) {\n            // Return the existing event with a 200 status code\n            return new Response(JSON.stringify({\n                message: \"An event with this information already exists. Using existing record.\",\n                eventID: existingEvent.eventID,\n                event: existingEvent,\n                isExisting: true\n            }), {\n                status: 200,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        // Create new event with explicit error handling for concurrent requests\n        let newEvent;\n        try {\n            newEvent = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].event.create({\n                data: {\n                    date: date ? new Date(date) : null,\n                    description: description || \"\",\n                    location: location || null\n                }\n            });\n        } catch (createError) {\n            if (createError.code === \"P2002\") {\n                // If we hit a unique constraint error during creation,\n                // it's likely due to a race condition. Try to fetch the record instead.\n                console.log(\"Handling potential race condition during event creation\");\n                // Try to find a similar event that might have been created concurrently\n                const conflictingEvent = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].event.findFirst({\n                    where: {\n                        AND: [\n                            description ? {\n                                description\n                            } : {},\n                            location ? {\n                                location\n                            } : {},\n                            date ? {\n                                date: new Date(date)\n                            } : {}\n                        ]\n                    },\n                    orderBy: {\n                        eventID: \"desc\" // Get the most recently created one\n                    }\n                });\n                if (conflictingEvent) {\n                    return new Response(JSON.stringify({\n                        message: \"An event with this information was just created. Using existing record.\",\n                        eventID: conflictingEvent.eventID,\n                        event: conflictingEvent,\n                        isExisting: true\n                    }), {\n                        status: 200,\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        }\n                    });\n                }\n                // If we couldn't find a similar event, let's try to create one with explicit eventID\n                // This is a fallback approach\n                const maxEventIdRecord = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].event.findFirst({\n                    orderBy: {\n                        eventID: \"desc\"\n                    },\n                    select: {\n                        eventID: true\n                    }\n                });\n                const nextEventId = maxEventIdRecord ? maxEventIdRecord.eventID + 1 : 1;\n                try {\n                    newEvent = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].event.create({\n                        data: {\n                            eventID: nextEventId,\n                            date: date ? new Date(date) : null,\n                            description: description || \"\",\n                            location: location || null\n                        }\n                    });\n                } catch (secondCreateError) {\n                    console.error(\"Second attempt to create event failed:\", secondCreateError);\n                    throw secondCreateError;\n                }\n            } else {\n                throw createError; // Re-throw any other errors\n            }\n        }\n        return new Response(JSON.stringify({\n            message: \"Event created successfully\",\n            eventID: newEvent.eventID,\n            event: newEvent,\n            isExisting: false\n        }), {\n            status: 201,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"POST /api/events error:\", error);\n        if (error.code === \"P2002\") {\n            return new Response(JSON.stringify({\n                error: \"An event with this information already exists.\",\n                details: \"Please try again with different information.\"\n            }), {\n                status: 409,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        return new Response(JSON.stringify({\n            error: \"Failed to create event.\",\n            details: error.message\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0YrQixXQUFXLE1BQU1wRCxtREFBTUEsQ0FBQ0csS0FBSyxDQUFDa0QsTUFBTSxDQUFDO3dCQUNuQ0MsTUFBTTs0QkFDSmpDLFNBQVN1Qzs0QkFDVHRELE1BQU1BLE9BQU8sSUFBSTJDLEtBQUszQyxRQUFROzRCQUM5Qm9DLGFBQWFBLGVBQWU7NEJBQzVCbEIsVUFBVUEsWUFBWTt3QkFDeEI7b0JBQ0Y7Z0JBQ0YsRUFBRSxPQUFPcUMsbUJBQW1CO29CQUMxQmpDLFFBQVFZLEtBQUssQ0FBQywwQ0FBMENxQjtvQkFDeEQsTUFBTUE7Z0JBQ1I7WUFDRixPQUFPO2dCQUNMLE1BQU1OLGFBQWEsNEJBQTRCO1lBQ2pEO1FBQ0Y7UUFFQSxPQUFPLElBQUkvQyxTQUFTQyxLQUFLQyxTQUFTLENBQUM7WUFDakN3QyxTQUFTO1lBQ1Q3QixTQUFTK0IsU0FBUy9CLE9BQU87WUFDekJsQixPQUFPaUQ7WUFDUEQsWUFBWTtRQUNkLElBQUk7WUFDRnhDLFFBQVE7WUFDUkMsU0FBUztnQkFBRSxnQkFBZ0I7WUFBbUI7UUFDaEQ7SUFDRixFQUFFLE9BQU80QixPQUFPO1FBQ2RaLFFBQVFZLEtBQUssQ0FBQywyQkFBMkJBO1FBRXpDLElBQUlBLE1BQU1nQixJQUFJLEtBQUssU0FBUztZQUMxQixPQUFPLElBQUloRCxTQUFTQyxLQUFLQyxTQUFTLENBQUM7Z0JBQ2pDOEIsT0FBTztnQkFDUHNCLFNBQVM7WUFDWCxJQUFJO2dCQUNGbkQsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO1lBQ2hEO1FBQ0Y7UUFFQSxPQUFPLElBQUlKLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQztZQUNqQzhCLE9BQU87WUFDUHNCLFNBQVN0QixNQUFNVSxPQUFPO1FBQ3hCLElBQUk7WUFDRnZDLFFBQVE7WUFDUkMsU0FBUztnQkFBRSxnQkFBZ0I7WUFBbUI7UUFDaEQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hvaGlkLy4vYXBwL2FwaS9ldmVudHMvcm91dGUuanM/ZGNmNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAvYXBpL2V2ZW50cy9yb3V0ZS5qc1xuaW1wb3J0IHByaXNtYSBmcm9tICcuLi8uLi8uLi9saWIvcHJpc21hJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBldmVudHMgPSBhd2FpdCBwcmlzbWEuZXZlbnQuZmluZE1hbnkoe1xuICAgICAgb3JkZXJCeToge1xuICAgICAgICBkYXRlOiAnZGVzYydcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghZXZlbnRzIHx8IGV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoW10pLCB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1hdHRlZEV2ZW50cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgZXZlbnRzLm1hcChhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdmljdGltQ291bnQgPSBhd2FpdCBwcmlzbWEudmljdGltLmNvdW50KHtcbiAgICAgICAgICB3aGVyZTogeyBldmVudElEOiBldmVudC5ldmVudElEIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGxhdCA9IDAsIGxuZyA9IDA7IC8vIERlZmF1bHQgdmFsdWVzXG4gICAgICAgIFxuICAgICAgICBpZiAoZXZlbnQubG9jYXRpb24gJiYgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX01BUFNfQVBJX0tFWSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgZ2VvbG9jYXRpb24gZm9yOiAke2V2ZW50LmxvY2F0aW9ufWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGZXRjaCBsYXQvbG5nIGZyb20gR29vZ2xlIE1hcHMgQVBJXG4gICAgICAgICAgICBjb25zdCBnZW9jb2RlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgICAgYGh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24/YWRkcmVzcz0ke1xuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChldmVudC5sb2NhdGlvbilcbiAgICAgICAgICAgICAgfSZrZXk9JHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfTUFQU19BUElfS0VZfWAsXG4gICAgICAgICAgICAgIHsgdGltZW91dDogNTAwMCB9IC8vIEFkZCB0aW1lb3V0IHRvIHByZXZlbnQgaGFuZ2luZ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFnZW9jb2RlUmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHZW9jb2RpbmcgQVBJIGVycm9yOiAke2dlb2NvZGVSZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGdlb2NvZGVEYXRhID0gYXdhaXQgZ2VvY29kZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGdlb2NvZGVEYXRhLnN0YXR1cyA9PT0gXCJPS1wiICYmIGdlb2NvZGVEYXRhLnJlc3VsdHMgJiYgZ2VvY29kZURhdGEucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGxhdCA9IGdlb2NvZGVEYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0O1xuICAgICAgICAgICAgICBsbmcgPSBnZW9jb2RlRGF0YS5yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEdlb2NvZGluZyBmYWlsZWQgZm9yICR7ZXZlbnQubG9jYXRpb259OmAsIGdlb2NvZGVEYXRhLnN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZ2VvY29kZUVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZW9jb2RpbmcgbG9jYXRpb24gXCIke2V2ZW50LmxvY2F0aW9ufVwiOmAsIGdlb2NvZGVFcnJvcik7XG4gICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIGRlZmF1bHQgY29vcmRpbmF0ZXNcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGV2ZW50SUQ6IGV2ZW50LmV2ZW50SUQsXG4gICAgICAgICAgZGF0ZTogZXZlbnQuZGF0ZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZXZlbnQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgbG9jYXRpb246IGV2ZW50LmxvY2F0aW9uLFxuICAgICAgICAgIHZpY3RpbUNvdW50OiB2aWN0aW1Db3VudCxcbiAgICAgICAgICBsYXQsXG4gICAgICAgICAgbG5nXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICk7XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KGZvcm1hdHRlZEV2ZW50cyksIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignR0VUIC9hcGkvZXZlbnRzIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggZXZlbnRzLicgfSksIHtcbiAgICAgIHN0YXR1czogNTAwLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIFxuICAgIGlmICghYm9keSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnUmVxdWVzdCBib2R5IGlzIG1pc3NpbmcnIH0pLCB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGRhdGUsIGRlc2NyaXB0aW9uLCBsb2NhdGlvbiB9ID0gYm9keTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhIHNpbWlsYXIgZXZlbnQgYWxyZWFkeSBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZ0V2ZW50ID0gYXdhaXQgcHJpc21hLmV2ZW50LmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBBTkQ6IFtcbiAgICAgICAgICBkZXNjcmlwdGlvbiA/IHsgZGVzY3JpcHRpb24gfSA6IHt9LFxuICAgICAgICAgIGxvY2F0aW9uID8geyBsb2NhdGlvbiB9IDoge30sXG4gICAgICAgICAgZGF0ZSA/IHsgZGF0ZTogbmV3IERhdGUoZGF0ZSkgfSA6IHt9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChleGlzdGluZ0V2ZW50KSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGV4aXN0aW5nIGV2ZW50IHdpdGggYSAyMDAgc3RhdHVzIGNvZGVcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBtZXNzYWdlOiAnQW4gZXZlbnQgd2l0aCB0aGlzIGluZm9ybWF0aW9uIGFscmVhZHkgZXhpc3RzLiBVc2luZyBleGlzdGluZyByZWNvcmQuJyxcbiAgICAgICAgZXZlbnRJRDogZXhpc3RpbmdFdmVudC5ldmVudElELFxuICAgICAgICBldmVudDogZXhpc3RpbmdFdmVudCxcbiAgICAgICAgaXNFeGlzdGluZzogdHJ1ZVxuICAgICAgfSksIHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIENyZWF0ZSBuZXcgZXZlbnQgd2l0aCBleHBsaWNpdCBlcnJvciBoYW5kbGluZyBmb3IgY29uY3VycmVudCByZXF1ZXN0c1xuICAgIGxldCBuZXdFdmVudDtcbiAgICB0cnkge1xuICAgICAgbmV3RXZlbnQgPSBhd2FpdCBwcmlzbWEuZXZlbnQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGRhdGU6IGRhdGUgPyBuZXcgRGF0ZShkYXRlKSA6IG51bGwsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uIHx8IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChjcmVhdGVFcnJvcikge1xuICAgICAgaWYgKGNyZWF0ZUVycm9yLmNvZGUgPT09ICdQMjAwMicpIHtcbiAgICAgICAgLy8gSWYgd2UgaGl0IGEgdW5pcXVlIGNvbnN0cmFpbnQgZXJyb3IgZHVyaW5nIGNyZWF0aW9uLFxuICAgICAgICAvLyBpdCdzIGxpa2VseSBkdWUgdG8gYSByYWNlIGNvbmRpdGlvbi4gVHJ5IHRvIGZldGNoIHRoZSByZWNvcmQgaW5zdGVhZC5cbiAgICAgICAgY29uc29sZS5sb2coJ0hhbmRsaW5nIHBvdGVudGlhbCByYWNlIGNvbmRpdGlvbiBkdXJpbmcgZXZlbnQgY3JlYXRpb24nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSB0byBmaW5kIGEgc2ltaWxhciBldmVudCB0aGF0IG1pZ2h0IGhhdmUgYmVlbiBjcmVhdGVkIGNvbmN1cnJlbnRseVxuICAgICAgICBjb25zdCBjb25mbGljdGluZ0V2ZW50ID0gYXdhaXQgcHJpc21hLmV2ZW50LmZpbmRGaXJzdCh7XG4gICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIEFORDogW1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA/IHsgZGVzY3JpcHRpb24gfSA6IHt9LFxuICAgICAgICAgICAgICBsb2NhdGlvbiA/IHsgbG9jYXRpb24gfSA6IHt9LFxuICAgICAgICAgICAgICBkYXRlID8geyBkYXRlOiBuZXcgRGF0ZShkYXRlKSB9IDoge31cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgIGV2ZW50SUQ6ICdkZXNjJyAgLy8gR2V0IHRoZSBtb3N0IHJlY2VudGx5IGNyZWF0ZWQgb25lXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb25mbGljdGluZ0V2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnQW4gZXZlbnQgd2l0aCB0aGlzIGluZm9ybWF0aW9uIHdhcyBqdXN0IGNyZWF0ZWQuIFVzaW5nIGV4aXN0aW5nIHJlY29yZC4nLFxuICAgICAgICAgICAgZXZlbnRJRDogY29uZmxpY3RpbmdFdmVudC5ldmVudElELFxuICAgICAgICAgICAgZXZlbnQ6IGNvbmZsaWN0aW5nRXZlbnQsXG4gICAgICAgICAgICBpc0V4aXN0aW5nOiB0cnVlXG4gICAgICAgICAgfSksIHtcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlIGNvdWxkbid0IGZpbmQgYSBzaW1pbGFyIGV2ZW50LCBsZXQncyB0cnkgdG8gY3JlYXRlIG9uZSB3aXRoIGV4cGxpY2l0IGV2ZW50SURcbiAgICAgICAgLy8gVGhpcyBpcyBhIGZhbGxiYWNrIGFwcHJvYWNoXG4gICAgICAgIGNvbnN0IG1heEV2ZW50SWRSZWNvcmQgPSBhd2FpdCBwcmlzbWEuZXZlbnQuZmluZEZpcnN0KHtcbiAgICAgICAgICBvcmRlckJ5OiB7XG4gICAgICAgICAgICBldmVudElEOiAnZGVzYydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgZXZlbnRJRDogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXh0RXZlbnRJZCA9IG1heEV2ZW50SWRSZWNvcmQgPyBtYXhFdmVudElkUmVjb3JkLmV2ZW50SUQgKyAxIDogMTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV3RXZlbnQgPSBhd2FpdCBwcmlzbWEuZXZlbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgZXZlbnRJRDogbmV4dEV2ZW50SWQsXG4gICAgICAgICAgICAgIGRhdGU6IGRhdGUgPyBuZXcgRGF0ZShkYXRlKSA6IG51bGwsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB8fCBcIlwiLFxuICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24gfHwgbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKHNlY29uZENyZWF0ZUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignU2Vjb25kIGF0dGVtcHQgdG8gY3JlYXRlIGV2ZW50IGZhaWxlZDonLCBzZWNvbmRDcmVhdGVFcnJvcik7XG4gICAgICAgICAgdGhyb3cgc2Vjb25kQ3JlYXRlRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yOyAvLyBSZS10aHJvdyBhbnkgb3RoZXIgZXJyb3JzXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbWVzc2FnZTogJ0V2ZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIGV2ZW50SUQ6IG5ld0V2ZW50LmV2ZW50SUQsXG4gICAgICBldmVudDogbmV3RXZlbnQsXG4gICAgICBpc0V4aXN0aW5nOiBmYWxzZVxuICAgIH0pLCB7XG4gICAgICBzdGF0dXM6IDIwMSxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1BPU1QgL2FwaS9ldmVudHMgZXJyb3I6JywgZXJyb3IpO1xuICAgIFxuICAgIGlmIChlcnJvci5jb2RlID09PSAnUDIwMDInKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZXJyb3I6ICdBbiBldmVudCB3aXRoIHRoaXMgaW5mb3JtYXRpb24gYWxyZWFkeSBleGlzdHMuJyxcbiAgICAgICAgZGV0YWlsczogJ1BsZWFzZSB0cnkgYWdhaW4gd2l0aCBkaWZmZXJlbnQgaW5mb3JtYXRpb24uJ1xuICAgICAgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIGV2ZW50LicsXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlXG4gICAgfSksIHtcbiAgICAgIHN0YXR1czogNTAwLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJwcmlzbWEiLCJHRVQiLCJldmVudHMiLCJldmVudCIsImZpbmRNYW55Iiwib3JkZXJCeSIsImRhdGUiLCJsZW5ndGgiLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJoZWFkZXJzIiwiZm9ybWF0dGVkRXZlbnRzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsInZpY3RpbUNvdW50IiwidmljdGltIiwiY291bnQiLCJ3aGVyZSIsImV2ZW50SUQiLCJsYXQiLCJsbmciLCJsb2NhdGlvbiIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19HT09HTEVfTUFQU19BUElfS0VZIiwiY29uc29sZSIsImxvZyIsImdlb2NvZGVSZXNwb25zZSIsImZldGNoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidGltZW91dCIsIm9rIiwiRXJyb3IiLCJnZW9jb2RlRGF0YSIsImpzb24iLCJyZXN1bHRzIiwiZ2VvbWV0cnkiLCJlcnJvciIsImdlb2NvZGVFcnJvciIsImRlc2NyaXB0aW9uIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwiZXhpc3RpbmdFdmVudCIsImZpbmRGaXJzdCIsIkFORCIsIkRhdGUiLCJtZXNzYWdlIiwiaXNFeGlzdGluZyIsIm5ld0V2ZW50IiwiY3JlYXRlIiwiZGF0YSIsImNyZWF0ZUVycm9yIiwiY29kZSIsImNvbmZsaWN0aW5nRXZlbnQiLCJtYXhFdmVudElkUmVjb3JkIiwic2VsZWN0IiwibmV4dEV2ZW50SWQiLCJzZWNvbmRDcmVhdGVFcnJvciIsImRldGFpbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/events/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.js":
/*!***********************!*\
  !*** ./lib/prisma.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.js\n\nlet prisma;\nif (false) {} else {\n    // Prevent multiple instances during development with Hot Module Replacement (HMR)\n    if (!global.prisma) {\n        global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = global.prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUU4QjtBQUU5QyxJQUFJQztBQUVKLElBQUlDLEtBQXlCLEVBQWMsRUFFMUMsTUFBTTtJQUNMLGtGQUFrRjtJQUNsRixJQUFJLENBQUNDLE9BQU9GLE1BQU0sRUFBRTtRQUNsQkUsT0FBT0YsTUFBTSxHQUFHLElBQUlELHdEQUFZQTtJQUNsQztJQUNBQyxTQUFTRSxPQUFPRixNQUFNO0FBQ3hCO0FBRUEsaUVBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9oaWQvLi9saWIvcHJpc21hLmpzPzc1MTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL3ByaXNtYS5qc1xuXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbmxldCBwcmlzbWE7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbn0gZWxzZSB7XG4gIC8vIFByZXZlbnQgbXVsdGlwbGUgaW5zdGFuY2VzIGR1cmluZyBkZXZlbG9wbWVudCB3aXRoIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnQgKEhNUilcbiAgaWYgKCFnbG9iYWwucHJpc21hKSB7XG4gICAgZ2xvYmFsLnByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbiAgfVxuICBwcmlzbWEgPSBnbG9iYWwucHJpc21hO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwcmlzbWE7XG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIiwicHJvY2VzcyIsImdsb2JhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fevents%2Froute&page=%2Fapi%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fevents%2Froute.js&appDir=%2FUsers%2Ftazkia%2FDesktop%2FUddhar%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftazkia%2FDesktop%2FUddhar&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();