"use strict";(()=>{var e={};e.id=4493,e.ids=[4493],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},30291:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>l});var a={};r.r(a),r.d(a,{GET:()=>p});var i=r(36126),s=r(69184),n=r(36197),o=r(30482);async function p(){try{let e=await o.Z.recipient.findMany({include:{family:{include:{recipient:!0}}}}),t=await Promise.all(e.map(async e=>{let t=await o.Z.familySupport.findUnique({where:{supportID:e.supportID}});return{supportID:e.supportID,dateReceived:e.dateReceived,familyID:e.family.familyID,headName:e.family.headName,contact:e.family.contact,address:e.family.address,supportType:t?.supportType||"Unknown",amount:t?.amount||0}}));return new Response(JSON.stringify(t),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("GET /api/subsidy error:",e),new Response(JSON.stringify({error:"Failed to fetch subsidy data."}),{status:500,headers:{"Content-Type":"application/json"}})}}let u=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/subsidy/route",pathname:"/api/subsidy",filename:"route",bundlePath:"app/api/subsidy/route"},resolvedPagePath:"/Users/tazkia/Desktop/Uddhar/app/api/subsidy/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:c}=u,y="/api/subsidy/route";function m(){return(0,n.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:l})}},30482:(e,t,r)=>{r.d(t,{Z:()=>a});let a=new(r(53524)).PrismaClient},36126:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9576],()=>r(30291));module.exports=a})();