"use strict";(()=>{var e={};e.id=2772,e.ids=[2772],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},45601:(e,t,i)=>{i.r(t),i.d(t,{originalPathname:()=>l,patchFetch:()=>v,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var r={};i.r(r),i.d(r,{GET:()=>p});var s=i(36126),a=i(69184),n=i(36197),o=i(30482);async function p(e){try{let{searchParams:t}=new URL(e.url),i=parseInt(t.get("limit"))||10,r=t.get("search")||"",s=await o.Z.victim.findMany({take:i,where:{OR:[{name:{contains:r,mode:"insensitive"}},{medicalID:{contains:r,mode:"insensitive"}}]},include:{event:!0,medical:!0,family:!0},orderBy:{birthCertificateNumber:"desc"}});return new Response(JSON.stringify({victims:s}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("GET /api/victims error:",e),new Response(JSON.stringify({error:"Failed to fetch victims",details:e.message}),{status:500,headers:{"Content-Type":"application/json"}})}}let c=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/victims/route",pathname:"/api/victims",filename:"route",bundlePath:"app/api/victims/route"},resolvedPagePath:"/Users/tazkia/Desktop/Uddhar/app/api/victims/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:m}=c,l="/api/victims/route";function v(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},30482:(e,t,i)=>{i.d(t,{Z:()=>r});let r=new(i(53524)).PrismaClient},36126:(e,t,i)=>{e.exports=i(30517)}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[9576],()=>i(45601));module.exports=r})();