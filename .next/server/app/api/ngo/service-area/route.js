"use strict";(()=>{var e={};e.id=2487,e.ids=[2487],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6303:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>N,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>v});var a={};t.r(a),t.d(a,{GET:()=>c,POST:()=>p});var s=t(36126),o=t(69184),n=t(36197),i=t(30482),u=t(81602);async function c(e){try{let{searchParams:r}=new URL(e.url),t=r.get("ngoID"),a=r.get("isActive"),s=r.get("locationName"),o={where:{...t&&{ngoID:parseInt(t)},...null!==a&&{isActive:"true"===a},...s&&{locationName:{contains:s,mode:"insensitive"}}},include:{ngo:{select:{name:!0,supportType:!0}}}};console.log(Object.keys(i.Z));let n=await i.Z.NGO_ServiceArea.findMany(o);return u.NextResponse.json(n)}catch(e){return console.error("Error fetching service areas:",e),u.NextResponse.json({error:"Failed to fetch service areas"},{status:500})}}async function p(e){try{let{ngoID:r,locationName:t,latitude:a,longitude:s,radiusKm:o}=await e.json();if(!r||!t||void 0===a||void 0===s||void 0===o)return u.NextResponse.json({error:"Missing required fields"},{status:400});if(isNaN(parseFloat(a))||isNaN(parseFloat(s))||isNaN(parseFloat(o)))return u.NextResponse.json({error:"Invalid numeric values for coordinates or radius"},{status:400});if(!await i.Z.NGO.findUnique({where:{ngoID:parseInt(r)}}))return u.NextResponse.json({error:"NGO not found"},{status:404});let n=await i.Z.NGO_ServiceArea.create({data:{ngoID:parseInt(r),locationName:t,latitude:parseFloat(a),longitude:parseFloat(s),radiusKm:parseFloat(o),isActive:!0}});return u.NextResponse.json(n,{status:201})}catch(e){return console.error("Error creating service area:",e),u.NextResponse.json({error:"Failed to create service area"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/ngo/service-area/route",pathname:"/api/ngo/service-area",filename:"route",bundlePath:"app/api/ngo/service-area/route"},resolvedPagePath:"/Users/tazkia/Desktop/Uddhar/app/api/ngo/service-area/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:v,serverHooks:g}=l,N="/api/ngo/service-area/route";function m(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:v})}},30482:(e,r,t)=>{t.d(r,{Z:()=>a});let a=new(t(53524)).PrismaClient}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9576,4946],()=>t(6303));module.exports=a})();