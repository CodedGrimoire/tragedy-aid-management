(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{18813:function(t,e,r){Promise.resolve().then(r.bind(r,2542))},2542:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return B}});var i=r(84048),n=r(36397),a=r(64914),l=r(31219),o=r(67452),c=r.n(o),s=r(49066),u=r(11629),h=r(27475),f=r(96725),y=r(80681),d=r(87582),v=r(94312),g=["x1","y1","x2","y2","key"],p=["offset"];function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach(function(e){var i,n;i=e,n=r[e],(i=function(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=m(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}(i))in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function j(){return(j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function O(t,e){if(null==t)return{};var r,i,n=function(t,e){if(null==t)return{};var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;r[i]=t[i]}return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var w=function(t){var e=t.fill;if(!e||"none"===e)return null;var r=t.fillOpacity,i=t.x,a=t.y,l=t.width,o=t.height,c=t.ry;return n.createElement("rect",{x:i,y:a,ry:c,width:l,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k(t,e){var r;if(n.isValidElement(t))r=n.cloneElement(t,e);else if(c()(t))r=t(e);else{var i=e.x1,a=e.y1,l=e.x2,o=e.y2,s=e.key,u=O(e,g),f=(0,h.L6)(u,!1),y=(f.offset,O(f,p));r=n.createElement("line",j({},y,{x1:i,y1:a,x2:l,y2:o,fill:"none",key:s}))}return r}function P(t){var e=t.x,r=t.width,i=t.horizontal,a=void 0===i||i,l=t.horizontalPoints;if(!a||!l||!l.length)return null;var o=l.map(function(i,n){return k(a,b(b({},t),{},{x1:e,y1:i,x2:e+r,y2:i,key:"line-".concat(n),index:n}))});return n.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function E(t){var e=t.y,r=t.height,i=t.vertical,a=void 0===i||i,l=t.verticalPoints;if(!a||!l||!l.length)return null;var o=l.map(function(i,n){return k(a,b(b({},t),{},{x1:i,y1:e,x2:i,y2:e+r,key:"line-".concat(n),index:n}))});return n.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function N(t){var e=t.horizontalFill,r=t.fillOpacity,i=t.x,a=t.y,l=t.width,o=t.height,c=t.horizontalPoints,s=t.horizontal;if(!(void 0===s||s)||!e||!e.length)return null;var u=c.map(function(t){return Math.round(t+a-a)}).sort(function(t,e){return t-e});a!==u[0]&&u.unshift(0);var h=u.map(function(t,c){var s=u[c+1]?u[c+1]-t:a+o-t;if(s<=0)return null;var h=c%e.length;return n.createElement("rect",{key:"react-".concat(c),y:t,x:i,height:s,width:l,stroke:"none",fill:e[h],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return n.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function z(t){var e=t.vertical,r=t.verticalFill,i=t.fillOpacity,a=t.x,l=t.y,o=t.width,c=t.height,s=t.verticalPoints;if(!(void 0===e||e)||!r||!r.length)return null;var u=s.map(function(t){return Math.round(t+a-a)}).sort(function(t,e){return t-e});a!==u[0]&&u.unshift(0);var h=u.map(function(t,e){var s=u[e+1]?u[e+1]-t:a+o-t;if(s<=0)return null;var h=e%r.length;return n.createElement("rect",{key:"react-".concat(e),x:t,y:l,width:s,height:c,stroke:"none",fill:r[h],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return n.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var A=function(t,e){var r=t.xAxis,i=t.width,n=t.height,a=t.offset;return(0,f.Rf)((0,y.f)(b(b(b({},d.O.defaultProps),r),{},{ticks:(0,f.uY)(r,!0),viewBox:{x:0,y:0,width:i,height:n}})),a.left,a.left+a.width,e)},S=function(t,e){var r=t.yAxis,i=t.width,n=t.height,a=t.offset;return(0,f.Rf)((0,y.f)(b(b(b({},d.O.defaultProps),r),{},{ticks:(0,f.uY)(r,!0),viewBox:{x:0,y:0,width:i,height:n}})),a.top,a.top+a.height,e)},F={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function K(t){var e,r,i,a,l,o,h=(0,v.zn)(),f=(0,v.Mw)(),y=(0,v.qD)(),d=b(b({},t),{},{stroke:null!==(e=t.stroke)&&void 0!==e?e:F.stroke,fill:null!==(r=t.fill)&&void 0!==r?r:F.fill,horizontal:null!==(i=t.horizontal)&&void 0!==i?i:F.horizontal,horizontalFill:null!==(a=t.horizontalFill)&&void 0!==a?a:F.horizontalFill,vertical:null!==(l=t.vertical)&&void 0!==l?l:F.vertical,verticalFill:null!==(o=t.verticalFill)&&void 0!==o?o:F.verticalFill,x:(0,u.hj)(t.x)?t.x:y.left,y:(0,u.hj)(t.y)?t.y:y.top,width:(0,u.hj)(t.width)?t.width:y.width,height:(0,u.hj)(t.height)?t.height:y.height}),g=d.x,p=d.y,x=d.width,O=d.height,k=d.syncWithTicks,K=d.horizontalValues,C=d.verticalValues,D=(0,v.CW)(),G=(0,v.Nf)();if(!(0,u.hj)(x)||x<=0||!(0,u.hj)(O)||O<=0||!(0,u.hj)(g)||g!==+g||!(0,u.hj)(p)||p!==+p)return null;var V=d.verticalCoordinatesGenerator||A,_=d.horizontalCoordinatesGenerator||S,B=d.horizontalPoints,L=d.verticalPoints;if((!B||!B.length)&&c()(_)){var T=K&&K.length,M=_({yAxis:G?b(b({},G),{},{ticks:T?K:G.ticks}):void 0,width:h,height:f,offset:y},!!T||k);(0,s.Z)(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(m(M),"]")),Array.isArray(M)&&(B=M)}if((!L||!L.length)&&c()(V)){var R=C&&C.length,W=V({xAxis:D?b(b({},D),{},{ticks:R?C:D.ticks}):void 0,width:h,height:f,offset:y},!!R||k);(0,s.Z)(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(m(W),"]")),Array.isArray(W)&&(L=W)}return n.createElement("g",{className:"recharts-cartesian-grid"},n.createElement(w,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),n.createElement(P,j({},d,{offset:y,horizontalPoints:B,xAxis:D,yAxis:G})),n.createElement(E,j({},d,{offset:y,verticalPoints:L,xAxis:D,yAxis:G})),n.createElement(N,j({},d,{horizontalPoints:B})),n.createElement(z,j({},d,{verticalPoints:L})))}K.displayName="CartesianGrid";var C=r(16154),D=r(7717),G=r(87625),V=r(23333),_=r(29882);function B(){let[t,e]=(0,n.useState)(null);return((0,n.useEffect)(()=>{fetch("/api/summary").then(t=>t.json()).then(t=>e(t)).catch(t=>console.error("Failed to fetch summary:",t))},[]),t)?(0,i.jsxs)("div",{className:"p-4 space-y-6",children:[(0,i.jsx)("h1",{className:"text-2xl font-semibold",children:"Victims Data Summary"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsx)(L,{title:"Victims by Age Bracket",data:t.ageBracket,dataKey:"ageGroup",barKey:"count",fill:"#8884d8"}),(0,i.jsx)(L,{title:"Victims by Status",data:t.status,dataKey:"statusType",fill:"#82ca9d"}),(0,i.jsx)(L,{title:"Victims by Gender",data:t.gender,dataKey:"genderType",fill:"#ffc658"}),(0,i.jsx)(L,{title:"Victims Supported by NGOs",data:t.ngoSupport,dataKey:"ngoName",fill:"#d88488"}),(0,i.jsx)(L,{title:"Events by Location",data:t.eventsLocation,dataKey:"location",fill:"#84a8d8",barKey:"eventCount"})]})]}):(0,i.jsx)("div",{children:"Loading..."})}function L(t){let{title:e,data:r,dataKey:n,barKey:o="count",fill:c}=t;return(0,i.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,i.jsx)("div",{className:"px-4 py-3 border-b",children:(0,i.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:e})}),(0,i.jsx)("div",{className:"h-64 p-4",children:(0,i.jsx)(a.h,{children:(0,i.jsxs)(l.v,{data:r,children:[(0,i.jsx)(K,{strokeDasharray:"3 3"}),(0,i.jsx)(C.K,{dataKey:n}),(0,i.jsx)(D.B,{}),(0,i.jsx)(G.u,{}),(0,i.jsx)(V.D,{}),(0,i.jsx)(_.$,{dataKey:o,fill:c})]})})})]})}}},function(t){t.O(0,[682,219,510,342,744],function(){return t(t.s=18813)}),_N_E=t.O()}]);